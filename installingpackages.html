<!DOCTYPE html>
<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-0WDD29GGN2"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-0WDD29GGN2');
</script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Repeatable, reboot resilient windows environment installations made easy using Chocolatey packages. When its time to repave either bare metal or virtualized instances, locally or on a remote machine, Boxstarter can automate both trivial and highly complex installations. Compatible with all Windows versions from Windows 7/2008 R2 forward." />
        <meta property="og:title" content="Boxstarter | Installing Packages" />
        <meta property="og:description" content="Repeatable, reboot resilient windows environment installations made easy using Chocolatey packages. When its time to repave either bare metal or virtualized instances, locally or on a remote machine, Boxstarter can automate both trivial and highly complex installations. Compatible with all Windows versions from Windows 7/2008 R2 forward." />
        <meta property="og:site_name" content="Boxstarter" />
        <meta property="og:type" content="product" />
        <meta property="og:image" content="https://boxstarter.org/assets/images/social-media/boxstarter-dark-og.png" />
        <meta property="og:url" content="https://boxstarter.org/installingpackages" />
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@chocolateynuget">
        <meta name="twitter:creator" content="@chocolateynuget">
        <meta property="product:brand" content="Boxstarter" />
        <meta property="product:category" content="software" />
        <link rel="shortcut icon" href="https://boxstarter.org/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="https://boxstarter.org/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://boxstarter.org/apple-touch-icon-152x152.png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://boxstarter.org/apple-touch-icon-167x167.png" />
        <link rel="apple-touch-icon" sizes="180x180" href="https://boxstarter.org/apple-touch-icon-180x180.png" />
        <link rel="manifest" href="https://boxstarter.org/site.webmanifest">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href='/assets/css/boxstarter.bundle.min.css'>
        <script type="text/javascript" src='/assets/js/boxstarter-head.bundle.min.js'></script>
        <title>Boxstarter | Installing Packages</title>
    </head>
    <body class="chocolatey-docs boxstarter-org">
        <header>
            
            <nav class="navbar navbar-expand-lg text-bg-theme-elevation-1">
                <div class="container-fluid">
                    <a class="navbar-brand link-theme" href="/">
                        <img src='/assets/images/boxstarter-logo-sm.png' alt="Boxstarter" width="70" height="61" class="d-inline-block align-text-middle">
                        Boxstarter
                    </a>
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="d-flex me-3 d-lg-none">
                            <label class="mb-0" for="themeToggle">
                                <input id="themeToggle" class="toggle-checkbox theme-toggle" type="checkbox" aria-label="Toggle theme settings" />
<div class="toggle-slot">
    <div class="sun-icon-wrapper">
        <div class="sun-icon fa-solid fa-sun"></div>
    </div>
    <div class="toggle-button"></div>
    <div class="moon-icon-wrapper">
        <div class="moon-icon fa-solid fa-moon"></div>
    </div>
</div>
                            </label>
                        </div>
                        <button class="navbar-toggler link-theme" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                            <i class="fa-solid fa-bars"></i>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
                            <li class="nav-item">
                                <a class="nav-link link-theme px-lg-3" href='/whyboxstarter'>Docs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link-theme px-lg-3" href="https://github.com/chocolatey/boxstarter"><i class="fa-brands fa-github me-2"></i>GitHub</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link link-theme px-lg-3" href="https://ch0.co/community"><i class="fa-brands fa-discord me-2"></i>Discussion</a>
                            </li>
                            <li class="nav-item d-none d-lg-flex px-lg-3">
                                <label class="mb-0" for="themeToggle">
                                    <input id="themeToggle" class="toggle-checkbox theme-toggle" type="checkbox" aria-label="Toggle theme settings" />
<div class="toggle-slot">
    <div class="sun-icon-wrapper">
        <div class="sun-icon fa-solid fa-sun"></div>
    </div>
    <div class="toggle-button"></div>
    <div class="moon-icon-wrapper">
        <div class="moon-icon fa-solid fa-moon"></div>
    </div>
</div>
                                </label>
                            </li>
                            <li class="nav-item pt-2 pt-lg-0 ps-lg-3">
                                <a class="btn btn-primary d-block d-lg-inline-block" role="button" href='/downloads/Boxstarter.3.0.3.zip' download><i class="fa-solid fa-download me-2"></i>Download v3.0.3</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
            <main>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-3 col-xl-2 p-0 text-bg-theme-elevation-1 border-end">
                            <div id="leftSidebarNav" class="sticky-md-top collapse-y-height">
                                <nav class="navbar navbar-expand-md p-0">
                                    <div id="leftSidebar" class="collapse navbar-collapse">
                                        <ul class="navbar-nav">
                                            <li class="nav-item nav-item-green">
                                            </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/whyboxstarter">Why Boxstarter?</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/weblauncher">Launch from the Web</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/installboxstarter">Installing Boxstarter</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/usingboxstarter">Using Boxstarter Commands</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/understandingpackages">Understanding Packages</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/creatingpackages">Creating Packages</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/publishingpackages">Pushing Packages</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2 active active-page" href="/installingpackages">Installing Packages</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/vmintegration">Installing Packages On A Virtual Machine</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/testingpackages">Testing Packages</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/winconfig">Boxstarter WinConfig Features</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/boxstarterresources">More Boxstarter Resources</a>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <div class="nav-link nav-link-collapse d-flex">
                                                            <button class="btn btn-collapse rounded-0 border-0 ps-3 collapsed" type="button" data-bs-toggle="collapse" aria-expanded="false" aria-controls="id-c4434ab3-6904-4fac-a683-5d678c412de8" aria-label="collapse or expand navigation" href="#id-c4434ab3-6904-4fac-a683-5d678c412de8"></button>
                                                            <a href="/learn">Guides</a>
                                                        </div>
                                                        <div class="collapse" id="id-c4434ab3-6904-4fac-a683-5d678c412de8">
                                                            <ul class="navbar-nav">
                                                                        <li class="nav-item">
                                                                            <a class="nav-link ps-5" href="/learn/remotepackagewithartifacts">Deploying A Web Application Remotely</a>
                                                                        </li>
                                                                        <li class="nav-item">
                                                                            <a class="nav-link ps-5" href="/learn/simplepackage">Simple Package Creation</a>
                                                                        </li>
                                                                        <li class="nav-item">
                                                                            <a class="nav-link ps-5" href="/learn/weblauncher">Run With A Gist</a>
                                                                        </li>
                                                            </ul>
                                                        </div>
                                                    </li>
                                                    <li class="nav-item nav-item-green">
                                                        <a class="nav-link ps-c2" href="/license">License</a>
                                                    </li>
                                        </ul>
                                    </div>
                                </nav>
                            </div>
                        </div>
                        <div class="col-md-9 col-xl-10 py-3 py-md-5 px-md-4 mx-auto">
                            <div class="container d-xl-none">
                                	<h1 class="title">Installing Packages</h1>                 
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="/">Boxstarter</a></li>
			
			<li class="breadcrumb-item active" aria-current="page">Installing Packages</li>
		</ol>
	</nav>

                            </div>
                            <div class="container">
                                <div class="row">
                                    <div id="mainContent" class="anchorjs-container col-xl-10 order-2 order-xl-1">
                                        <div class="d-none d-xl-block">
                                            	<h1 class="title">Installing Packages</h1>                 
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="/">Boxstarter</a></li>
			
			<li class="breadcrumb-item active" aria-current="page">Installing Packages</li>
		</ol>
	</nav>

                                        </div>
                                        <h1 id="installing-packages">Installing Packages</h1>
<p>Boxstarter can install packages either from a local Boxstarter Repository, a network share or external media, or it can &quot;push&quot; an installation to a remote machine.</p>
<h2 id="install-boxstarterpackage">Install-BoxstarterPackage</h2>
<p>To kick off a Boxstarter installation session, use the <code>Install-BoxstarterPackage</code> command.</p>
<pre><code class="language-powershell">$cred=Get-Credential domain\username
Install-BoxstarterPackage -PackageName &quot;MyPackage1&quot;,&quot;MyPackage2&quot; -Credential $cred
</code></pre>
<p>This will install the MyPackage1 and MyPackage2 packages locally and use the credentials given for any auto login needed after a reboot. Note that you cannot use auto login from a <a href="https://github.com/chocolatey/boxstarter/issues/1">32-bit PowerShell session on a 64-bit operating system</a>.</p>
<p>There may be times when you either know that no reboot will be needed or you want to ensure that none take place. To tell Boxstarter not to perform any reboots, even if a pending reboot is detected, use the <code>-DisableReboots</code> argument.</p>
<pre><code class="language-powershell">Install-BoxstarterPackage -PackageName &quot;MyPackage1&quot;,&quot;MyPackage2&quot; -DisableReboots
</code></pre>
<p>Since no reboot will be performed, the credential is unnecessary.</p>
<h2 id="reinstall-logic">Reinstall Logic</h2>
<p>If you are familiar with Chocolatey, you know that Chocolatey will check if a package has been previously installed and will skip the installation if there is already an installation for that same package. Boxstarter changes this logic just a bit depending on whether one or multiple packages are provided to Install-BoxstarterPackage or the Boxstarter URL. If just one package is provided, Boxstarter will always attempt to re-download and install the package, even if it had been previously installed. It's important to note this only applies to the &quot;outer&quot; package. If your package includes calls to <code>choco install</code>, those packages will abide by the normal Chocolatey install rules and will not be installed if they already exist in the Chocolatey lib folder. Furthermore, when you supply multiple packages to Boxstarter's command line or URL, it will skip installation for packages already installed.</p>
<h2 id="installing-a-package-without-a-package">Installing a package without a package</h2>
<p>As mentioned previously on <a href="creatingpackages">Creating Packages</a>, you may not need to create a package. If your install script is limited to a single script file, you can use a file path or URL to a script and Boxstarter will create a package on the fly using this script as the ChocolateyInstall.ps1.</p>
<pre><code class="language-powershell">Install-BoxstarterPackage -PackageName https://gist.github.com/mwrock/8066325/raw/e0c830528429cd68a8c71dbff6f48298576d8d20/gistfile1.txt
</code></pre>
<p>This will download the script in the raw text gist and create a NuGet package using the script as the ChocolateyInstall.ps1. If the script is in a file accessible to Boxstarter, one can pass the path to the file as the -PackageName parameter.</p>
<h2 id="understanding-and-controlling-installation-output">Understanding and controlling installation output</h2>
<h3 id="pipeline-output">Pipeline Output</h3>
<p>For each machine that Boxstarter installs (see <a href="installingpackages#RemoteInstallations">below</a> for remote installation details) an object is emitted to the PowerShell pipeline containing details about the installation:</p>
<pre><code class="language-powershell">Errors       : {}
ComputerName : localhost
Completed    : True
FinishTime   : 11/30/2013 1:56:36 AM
StartTime    : 11/30/2013 1:56:20 AM
</code></pre>
<p>The properties included in the pipeline output are:</p>
<ul>
<li><strong>ComputerName:</strong> The name of the computer where the package was installed</li>
<li><strong>StartTime:</strong> The time that the installation began</li>
<li><strong>FinishTime:</strong> The time that Boxstarter finished the installation</li>
<li><strong>Completed:</strong> True or False indicating if Boxstarter was able to complete the installation without a terminating exception interrupting the installation. Even if this value is True, it does not mean that all components installed in the package succeeded. Boxstarter will not terminate an installation if individual Chocolatey packages fail. Use the Errors property to discover errors that were raised throughout the installation.</li>
<li><strong>Errors:</strong> An array of all errors encountered during the duration of the installation.</li>
</ul>
<h3 id="increasing-console-output-verbosity">Increasing Console Output Verbosity</h3>
<p>Boxstarter tries to strike the right balance of information provided to the command console. However, if you want more detailed output, use the <code>-Verbose</code> parameter of <code>Install-BoxstarterPackage</code> command.</p>
<h3 id="silencing-console-output">Silencing Console Output</h3>
<p>You can completely silence all console host output by setting Boxstarter's SuppressLogging property to true.</p>
<pre><code class="language-powershell">$Boxstarter.SuppressLogging=$True
Install-BoxstarterPackage -PackageName MyPackage -DisableReboots
Errors       : {}
ComputerName : localhost
Completed    : True
FinishTime   : 11/30/2013 1:56:36 AM
StartTime    : 11/30/2013 1:56:20 AM
</code></pre>
<p>The only output now is what is sent to the pipeline. You can hide this by capturing it in a variable</p>
<pre><code class="language-powershell">$result=Install-BoxstarterPackage -PackageName MyPackage -DisableReboots
</code></pre>
<p>or piping it to $null.</p>
<pre><code class="language-powershell">Install-BoxstarterPackage -PackageName MyPackage -DisableReboots | Out-Null
</code></pre>
<h3 id="boxstarter-log-file">Boxstarter Log File</h3>
<p>Boxstarter always logs verbose output to <code>$Boxstarter.Log</code> which is usually located at $env:LocalAppData\Boxstarter\Boxstarter.log. Installations on remote machines will produce a log file at this location on the remote machine and the local log file will contain just the messages that ran locally.</p>
<h2 id="running-an-installation-from-a-network-share-or-external-media">Running an installation from a network share or external media</h2>
<p>You may want to place the Boxstarter modules and local repo on a network share, so that others on your network can invoke Boxstarter installs with nothing installed. Or you may want to save them on a thumb drive, SD, or Micro SD card, so you can always have Boxstarter and your packages handy. Boxstarter provides a batch file wrapper that can be called to facilitate these scenarios.</p>
<pre><code class="language-powershell">Copy-Item $Boxstarter.BaseDir E:\ -Recurse
E:\BoxstarterDir\Boxstarter example
</code></pre>
<p>Boxstarter's Base Directory (<code>$Boxstarter.BaseDir</code>) is copied to e:\BoxstarterDir, then Boxstarter.bat is called which will:</p>
<ul>
<li>Bypass the user's execution policy and ensure that Boxstarter scripts can run</li>
<li>Import the Boxstarter Modules</li>
<li>Invoke a Boxstarter installation of the example package</li>
<li>Will prompt the user for their password to use during reboots</li>
</ul>
<p><img src="/assets/images/console.png" alt="Boxstarter installing package example" /></p>
<h2 id="creating-a-boxstarter-share">Creating a Boxstarter Share</h2>
<p>As stated already, Boxstarter and its local repository can exist on a network share. Boxstarter provides a command that will share the directory where Boxstarter exists.</p>
<pre><code class="language-powershell">Set-BoxstarterShare BoxShare
</code></pre>
<p>This simply creates a network share named BoxShare pointing to the local Boxstarter base directory. Now users simply call:</p>
<pre><code class="language-powershell">\\mycomputer\BoxShare\Boxstarter MyPackage
</code></pre>
<h2 id="remote-installations">Remote Installations</h2>
<p>Maybe you don't want to share with others, but would rather like to &quot;push&quot; installations to remote machines and VMs. Well that is now possible with Boxstarter! Boxstarter handles almost all the Remoting details so that installing a package remotely is practically no different from doing so locally.</p>
<h3 id="enabling-powershell-remoting-on-the-target-machine">Enabling PowerShell Remoting on the target machine</h3>
<p>In many cases you may not have to do this. If your machine is on a domain where group policy settings automatically enable PowerShell Remoting or even just WMI, Boxstarter can do this for you. Also, if you are using the built-in administrator account on a Windows server OS, it will likely already be configured for remoting. If you are unsure, enabling it manually will not cause any harm and it is easy.</p>
<p>Open a PowerShell window as administrator on the target machine and simply run:</p>
<pre><code class="language-powershell">Enable-PSRemoting -Force
</code></pre>
<blockquote>
<p>:choco-info: <strong>NOTE</strong></p>
<p>If you are installing a Boxstarter install on a Hyper-V VM from a Hyper-V host machine, using the Boxstarter.HyperV module's <code>Enable-BoxstarterVM</code> command will configure the VM remote connectivity for you if needed. See <a href="vmintegration">Installing packages on a Virtual Machine</a> for details.</p>
</blockquote>
<h3 id="invoking-from-the-local-machine">Invoking from the local machine</h3>
<p>Now on your machine where Boxstarter is installed:</p>
<pre><code class="language-powershell">$cred=Get-Credential 'MyTargetMachine\myusername'
Install-BoxstarterPackage -ComputerName MyTargetMachine -PackageName MyPackage -Credential $cred
</code></pre>
<p>Boxstarter will use the credential to connect to MyTargetMachine, and will copy the Boxstarter modules and your Local Repository packages to its local storage. It will then run the package on that machine. Boxstarter will configure your local machine to be able to connect to the remote machine, and it may prompt you for permission to change settings. You can always provide the -Force parameter to silence the prompts and allow boxstarter to freely enable remoting if it is not already enabled.</p>
<p>Here is a screenshot of Boxstarter installing a Minecraft Server (bukkit) on an AWS EC2 instance:</p>
<p><img src="/assets/images/amazon.png" alt="Screenshot of Boxstarter installing a Minecraft Server (bukkit) on an AWS EC2 instance" /></p>
<p>You can pipe several computer names, URIs or Windows PowerShell sessions to <code>Install-BoxstarterPackage</code>. Boxstarter will attempt to install the package on each machine and return a PSObject result for each machine.</p>
<pre><code class="language-powershell">$cred=Get-Credential 'MyTargetMachine\myusername'
$result = &quot;thing1&quot;,&quot;thing2&quot; | Install-BoxstarterPackage -PackageName MyPackage -Credential $cred
$result

Errors       : {}
ComputerName : thing1
Completed    : True
FinishTime   : 11/30/2013 1:56:36 AM
StartTime    : 11/30/2013 1:56:20 AM

Errors       : {}
ComputerName : thing2
Completed    : True
FinishTime   : 11/30/2013 1:56:58 AM
StartTime    : 11/30/2013 1:56:36 AM
</code></pre>
<h2 id="using-boxstarterconnectionconfig-objects">Using BoxstarterConnectionConfig objects</h2>
<p>If you have multiple machines you want to install, but they require different credentials, use a BoxstarterConnectionConfig. This class contains a ConnectionURI, a PSCredential and an optional <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/new-pssessionoption">PSSessionOption</a> property that you can set and pipe to <code>Install-BoxstarterPackage</code>.</p>
<pre><code class="language-powershell">$cred1=Get-Credential 'MyTargetMachine\myusername'
$cred2=Get-Credential 'Domain\myDomainUser'
$result = (new-Object -TypeName BoxstarterConnectionConfig -ArgumentList 'http://machine1:5985/wsman',$cred1,$null),`
    (new-Object -TypeName BoxstarterConnectionConfig -ArgumentList 'http://machine2:5985/wsman',$cred2,$null) |
    Install-BoxstarterPackage -PackageName MyPackage
</code></pre>
<h2 id="chocolatey-sources-and-remote-installations">Chocolatey Sources and Remote Installations</h2>
<p>When using Boxstarter to install packages on a remote machine, the .nupkg file for the provided package name is searched in the following locations and order:</p>
<ul>
<li>.\BuildPackages relative to the parent directory of the module file</li>
<li>The Chocolatey community feed <strong>OR</strong> NugetSources in Boxstarter.config when the 'DelegateChocoSources' switch is used</li>
</ul>
<p>This can be configured by editing $($Boxstarter.BaseDir)\Boxstarter.Config If the package name provided is a URL or resolves to a file, then it is assumed that this contains the Chocolatey install script and a .nupkg file will be created using the script.</p>
<pre><code class="language-powershell">$cred=Get-Credential 'MyTargetMachine\myusername'
Install-BoxstarterPackage -ComputerName MyTargetMachine -PackageName MyPackage -Credential $cred -DelegateChocoSources

Boxstarter: Configuring local PowerShell Remoting settings...
Boxstarter: Configuring CredSSP settings...
Boxstarter: Testing remoting access on MyTargetMachine...
Boxstarter: Remoting is accessible on MyTargetMachine
Boxstarter: Copying Boxstarter Modules and LocalRepo packages at C:\ProgramData\Boxstarter to C:\Users\ADMINI~1.TRI\AppData\Local\Temp\ on MyTargetMachine...
Boxstarter: Delegating Boxstarter NugetSources to remote host...
Boxstarter: Running remote install...
</code></pre>
<h3 id="troubleshooting-remote-installations">Troubleshooting Remote Installations</h3>
<h3 id="establishing-remote-connections-with-servers-not-on-the-local-subnet">Establishing remote connections with servers not on the local subnet</h3>
<p>By default, server versions of Windows have a firewall rule restricting traffic that is not on the local subnet. There may be circumstances where you might want to connect over the public Internet to another machine. This can be done by manually enabling the &quot;WINRM-HTTP-In-TCP-PUBLIC&quot; firewall rule using the PowerShell 3.0 <code>Set-NetFirewallRule</code> or the command line <code>netsh advfirewall</code> command.</p>
<p>Client versions of Windows will only allow PSRemoting on Private and Domain networks. Clients on PowerShell 3.0 and higher can provide the <code>-SkipNetorkProfileCheck</code> to Enable-PSRemoting to allow connections to public computers on the local subnet. Boxstarter uses this parameter when enabling Remoting on clients. Like with Server versions, you can enable a firewall rule to work around the local subnet restriction.</p>
<p>Windows 7 OSs running PowerShell 2.0 can not enable PSRemoting when on a public network connection. You will need to change your connection type to a private or Domain based connection.</p>
<h3 id="credssp-and-access-exceptions-when-referencing-network-resources">CredSSP and Access Exceptions when referencing network resources</h3>
<p>When establishing a remote connection, Boxstarter uses CredSSP authentication so that the session can access any network resources normally accessible to the Credential. If necessary, Boxstarter configures CredSSP authentication on both the local and remote machines as well as the necessary Group Policy and WSMan settings for credential delegation. When the installation completes, Boxstarter rolls back all settings that it changed to their original state. When using a Windows PowerShell session instead of ComputerName or ConnectionURI, Boxstarter will use the authentication mechanism of the existing session and will not configure CredSSP if the session provided is not using CredSSP. If the session is not using CredSSP, it may be denied access to network resources normally accessible to the Credential being used. If you do need to access network resources external to the session, you should use CredSSP when establishing the connection.</p>
<h3 id="installation-failures">Installation Failures</h3>
<p>Remote installations performed via PowerShell Remoting can sometimes fail. The symptoms of such failures can manifest themselves in a variety of ways and do not fail consistently. Boxstarter makes great effort to ensure the success of remote installations by leveraging scheduled tasks when it sees certain install activities. Boxstarter intercepts all calls to MSIEXEC, DISM (Installer for &quot;Windows Features&quot;) and Windows Update. It is possible for more involved installation scripts to perform these operations in such a way that Boxstarter will not be able to intercept. If you suspect that your installation is failing due to using a remote session, you can use Boxstarter's <code>Invoke-FromTask</code> command to manually wrap your install in a scheduled task and thereby use a Local token.</p>
<pre><code class="language-powershell">Invoke-FromTask &quot;DISM /Online /NoRestart /Enable-Feature:TelnetClient&quot; -IdleTimeout 20
</code></pre>
<p>This will run the DISM command to install the Telnet client in a scheduled task, and will kill the process if it becomes idle for more than 20 seconds. The scheduled task will always run with elevated privileges and be invoked immediately. If the same user whose credentials created the task is logged on to an active session, the scheduled task will run interactively on the remote machine. All console output from the scheduled task will be intercepted by Boxstarter and rendered to the user's console.</p>

                                    </div>
                                            <div id="rightSidebarNav" class="col-xl-2 ps-xl-3 order-1 order-xl-2">
                                                <button class="btn btn-link btn-collapse fw-bold w-100 d-xl-none mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#rightSidebar" aria-expanded="false" aria-controls="rightSidebar">Jump to Section</button>
                                                <div id="rightSidebar" class="sticky-xl-top collapse collapse-lg">
                                                    <div class="card card-body py-0 px-xl-0 mb-3 border-0">
                                                            <p class="fw-bold pt-3"><a href="https://github.com/chocolatey/boxstarter.org/edit/master/input/installingpackages.md"><i class="fa-solid fa-pencil" aria-hidden="true"></i> Edit This Page</a></p>
                                                            <hr class="m-0" />
                                                        <p class="fw-bold pt-3 mb-2">On This Page</p>
                                                        <ul class="nav nav-scrollspy flex-column pb-3">
                                                                <li class="nav-item"><a class="nav-link d-none" href="#installing-packages">Installing Packages</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#install-boxstarterpackage">Install-BoxstarterPackage</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#reinstall-logic">Reinstall Logic</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#installing-a-package-without-a-package">Installing a package without a package</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#understanding-and-controlling-installation-output">Understanding and controlling installation output</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#pipeline-output">Pipeline Output</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#increasing-console-output-verbosity">Increasing Console Output Verbosity</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#silencing-console-output">Silencing Console Output</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#boxstarter-log-file">Boxstarter Log File</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#running-an-installation-from-a-network-share-or-external-media">Running an installation from a network share or external media</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#creating-a-boxstarter-share">Creating a Boxstarter Share</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#remote-installations">Remote Installations</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#enabling-powershell-remoting-on-the-target-machine">Enabling PowerShell Remoting on the target machine</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#invoking-from-the-local-machine">Invoking from the local machine</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#using-boxstarterconnectionconfig-objects">Using BoxstarterConnectionConfig objects</a></li>
                                                                <li class="nav-item"><a class="nav-link " href="#chocolatey-sources-and-remote-installations">Chocolatey Sources and Remote Installations</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#troubleshooting-remote-installations">Troubleshooting Remote Installations</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#establishing-remote-connections-with-servers-not-on-the-local-subnet">Establishing remote connections with servers not on the local subnet</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#credssp-and-access-exceptions-when-referencing-network-resources">CredSSP and Access Exceptions when referencing network resources</a></li>
                                                                <li class="nav-item"><a class="nav-link ps-4" href="#installation-failures">Installation Failures</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        <footer class="flex-shrink-0">
            <div class="text-bg-theme-elevation-1 border-top text-center p-3">
                <span class="small">© 2018 - 2024 <a class="link-theme" href="https://chocolatey.org/">Chocolatey Software, Inc.</a></span><br />
                <span class="small">© 2012 - 2018 <a class="link-theme" href="https://www.hurryupandwait.io/">Matt Wrock</a></span><br />
                <span class="small">Deployed from <a class="link-theme" href="https://github.com/chocolatey/boxstarter.org/commit/569eb7240958a2c761c197c33ae5e2a8ed830609">569eb72</a></span><br />
                <span class="small"><a class="link-theme" href="https://statiq.dev/">Generated by Statiq</a></span>
            </div>
            <div id="cookieNoticeAlert" class="alert alert-primary alert-dismissible alert-dismissible-center alert-btn-center fade show d-none" role="alert">
                <p class="mb-0"><strong>boxstarter.org uses cookies to enhance the user experience of the site.</strong></p>
                <button type="button" class="btn btn-theme-background btn-sm d-none d-md-inline-block" data-bs-dismiss="alert" aria-label="Close">I accept</button>
                <button type="button" class="btn btn-theme-background d-md-none" data-bs-dismiss="alert" aria-label="Close">I accept</button>
            </div>
        </footer>
        <script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=default,Array.prototype.includes,Array.prototype.find,Number.parseFloat%2CNumber.parse%2CNodeList.prototype.forEach%2CNumber.parseInt"></script>
        <script type="text/javascript" src='/assets/js/boxstarter.bundle.min.js'></script>
    </body>
</html>